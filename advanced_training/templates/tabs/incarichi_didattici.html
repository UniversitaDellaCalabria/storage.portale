{% load i18n %}

<form method="post" novalidate class="{% if is_readonly and not user_is_validator %}readonly{% endif %}">
  {% csrf_token %}
  
  {% if form.management_form %}
  <div style="display:none">{{ form.management_form }}</div>
  
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Modulo</th>
        <th>Numero ore</th>
        <th>Docente</th>
        <th>Qualifica</th>
        <th>Ente</th>
        <th>Tipologia</th>
        <th>Elimina</th>
      </tr>
    </thead>
    <tbody>
      {% for f in form %}
      <tr>
        {{ f.id }}
        <td>{{ f.modulo }}</td>
        <td>{{ f.num_ore }}</td>
        <td>{{ f.docente }}</td>
        <td>{{ f.qualifica }}</td>
        <td>{{ f.ente }}</td>
        <td>{{ f.tipologia }}</td>
        <td>{% if not is_readonly or user_is_validator %}{{ f.DELETE }}{% endif %}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}

  <input type="hidden" name="tab_form_dict_key" value="Incarichi Didattici">

  <div class="mt-3 d-flex justify-content-between">
    {% if not is_readonly or user_is_validator %}
    <button type="submit" class="btn btn-primary">
      <i class="fas fa-save"></i> Salva Incarichi Didattici
    </button>
    {% endif %}

    <a href="{% url 'advanced-training:management:advanced-training' %}" 
       class="btn btn-outline-secondary btn-sm">
      <i class="fas fa-arrow-left"></i> {% trans "Torna alla lista" %}
    </a>
  </div>
</form>